# NFC 接入静默模式指南

> 把 PWR 长按 1 秒的功能，换成 NFC 触发

---

## 逻辑

| NFC 状态 | 调用 | 效果 |
|----------|------|------|
| 卡片放上 | `silent_mode_exit()` | 倒放动画 → 自动开始聊天 |
| 卡片移除 | `silent_mode_enter()` | 正放动画 → 显示天气背景 |

---

## 代码

```cpp
#include "silent_mode.h"

// 卡片放上
silent_mode_exit();

// 卡片移除
silent_mode_enter();
```

---

## 完整示例

```cpp
#include "silent_mode.h"

void nfc_detection_task() {
    bool last_card_present = false;

    while (true) {
        bool card_present = nfc_check_card();  // 你的检测函数

        if (card_present && !last_card_present) {
            silent_mode_exit();   // 卡片放上
        } else if (!card_present && last_card_present) {
            silent_mode_enter();  // 卡片移除
        }

        last_card_present = card_present;
        vTaskDelay(pdMS_TO_TICKS(200));
    }
}
```

---

## 头文件位置

```
main/boards/waveshare-c6-lcd-1.69/silent_mode.h
```

---

**就这些。**
